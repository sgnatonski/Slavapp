<Controls:MetroWindow
    x:Class="SlavApp.Minion.Views.MainWindowView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:cal="http://www.caliburnproject.org"
    Width="850" MinHeight="320" SizeToContent="Height"
    BorderBrush="{DynamicResource AccentColorBrush}"
    BorderThickness="1"
    WindowStartupLocation="CenterScreen">

    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands>
            <Button Content="Home" cal:Message.Attach="[Event Click] = [Action ShowMain()]"/>
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>
    <Grid x:Name="grid">
        <ItemsControl x:Name="Plugins">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Controls:Tile Title="{Binding Name}" Width="100" Height="100" 
                                   cal:Message.Attach="[Event Click] = [Action ShowPluginView($dataContext)]"
                                   cal:Action.TargetWithoutContext="{Binding DataContext, ElementName=grid}"></Controls:Tile>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
        <ContentControl x:Name="ActiveItem" />
    </Grid>

</Controls:MetroWindow>
